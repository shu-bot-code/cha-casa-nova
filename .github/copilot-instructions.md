# Copilot Instructions for cha-casa-nova

- **Stack & tooling**: Vite + React 18 + TypeScript; Tailwind CSS v4 (see [tailwind.config.js](../tailwind.config.js) for the `primary`, `accent`, `background` palette). Entry is [src/main.tsx](../src/main.tsx) mounting [src/App.tsx](../src/App.tsx). Styling is Tailwind-first with minimal global CSS in [src/index.css](../src/index.css) and occasional inline utility classes.
- **Core data model**: Gifts come from the static array in [src/data/giftList.ts](../src/data/giftList.ts) shaped by [src/types/gift.ts](../src/types/gift.ts). Quotas ("Grandes Sonhos") are defined in [src/data/quotaList.ts](../src/data/quotaList.ts) using [src/types/quota.ts](../src/types/quota.ts). Gift QR codes/pix strings are placeholders (`/qr/placeholder.png`, "Em breve!") unless updated manually.
- **Main UI flow (gifts)**: [src/App.tsx](../src/App.tsx) filters `giftList` by `categoria` and `status` (see `categories`/`statusOptions` constants) and sorts Aâ†’Z. Cards are rendered via [src/components/GiftCard.tsx](../src/components/GiftCard.tsx); clicking "Presentear" calls `onPresent` which should open the Pix modal.
- **Pix modal behavior**: Modal state is centralized in [src/hooks/usePixModal.ts](../src/hooks/usePixModal.ts) (locks body scroll on open, clears selection after close timeout). UI is [src/components/PixModal.tsx](../src/components/PixModal.tsx) with copy-to-clipboard + QR image; it exits early if `gift` or `isOpen` is falsy, so always pass both.
- **Quota flow (cotas)**: [src/components/QuotaSection.tsx](../src/components/QuotaSection.tsx) lists `quotaList` items with per-card quantity controls and progress (cotas recebidas / total). It expects an `onOpenModal(quota, qty)` handler to display a quota checkout modal. **Note**: [src/components/QuotaModal.tsx](../src/components/QuotaModal.tsx) currently contains a duplicate `App` component that imports itself, likely an unused/erroneous copy. Avoid reusing it as-is; implement a real quota modal separately or clean this file before wiring quotas into App.
- **Navigation & layout**: Header links anchor to `#home`, `#lista`, `#como-funciona`, `#faq`. Sections: hero + CTA, gift list with filters, "Como funciona" ([src/components/HowItWorks.tsx](../src/components/HowItWorks.tsx)), FAQ ([src/components/FAQ.tsx](../src/components/FAQ.tsx)), footer. [src/components/MagicCursor.tsx](../src/components/MagicCursor.tsx) is an optional framer-motion cursor trail; not currently mounted.
- **Status conventions**: Gift `status` is either `"disponivel"` or `"presenteado"`; `GiftCard` disables the button and overlays "Presenteado" when status is `presenteado`. Categories include `cozinha`, `mesa_preparo`, `quarto`, `banheiro`, `lavanderia_limpeza`, `ferramentas`, plus `todos` for filtering only.
- **Build & run**: Use npm (package-lock present). Commands: `npm run dev` (Vite dev server), `npm run build`, `npm run preview`. No tests are configured.
- **Content/localization**: Copy is in pt-BR and uses emoji accents; preserve tone/emoji and italicized quotes. Currency displays are plain strings (no formatting helpers), and quotas compute totals with `qty * valorCota` before modal handoff.
- **Gotchas**: Because modal logic controls `document.body.style.overflow`, ensure closes always call `onClose` to avoid locking scroll. Large static data files may grow; keep imports type-safe and avoid duplicating the App shell when adding features (see QuotaModal caveat above).
